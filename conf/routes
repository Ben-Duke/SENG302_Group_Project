# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page

#Renders user index page
GET     /                           controllers.UserController.userindex(request:Request)

#Renders user index page
GET     /users                      controllers.UserController.userindex(request:Request)

#Handles AJAX request to get the user
GET     /users/get                  controllers.UserController.getUser(request:Request)

#Handles AJAX request to get the user
GET     /users/photos                  controllers.UserController.getUserPhotosAjax(request:Request)

#Renders register page
GET     /users/register             controllers.RegisterController.createuser()

#Handles register request
POST    /users/register             controllers.RegisterController.saveuser(request:Request)

#Renders login page
GET     /users/login                controllers.LoginController.login()

#Handles login request
POST    /users/login                controllers.LoginController.loginrequest(request:Request)

#Renders update profile page
GET     /users/profile/update       controllers.ProfileController.updateProfile(request: Request)

#Renders admin page
GET     /users/admin                controllers.AdminController.indexAdmin(request: Request)

#Handles deleting admin
GET     /users/admin/remove/:id     controllers.AdminController.adminToUser(request: Request, id: Integer)

#Handles creating admin
GET     /users/admin/make/:id       controllers.AdminController.userToAdmin(request: Request, id: Integer)

#Handles setting a user to edit as
GET     /users/admin/actasuser/:id      controllers.AdminController.setUserToActAs(request: Request, id: Integer)

#Handles setting a user back to the admin after acting as a user
GET     /users/admin/back_to_admin/:id      controllers.AdminController.setUserBackToAdmin(request: Request, id: Integer)

#Handles view a destination modification request
GET     /users/admin/destination_modification_request/:id   controllers.AdminController.viewDestinationModificationRequest(request: Request, id: Integer)

#Handles deleting a destination modification request on rejection by admin
GET  /users/admin/destination_modification_request/reject/:id    controllers.DestinationController.destinationModificationReject(request: Request, id: Integer)

#Handles updating a destination then deleting a destination modification request on acceptance by admin
GET  /users/admin/destination_modification_request/accept/:id    controllers.DestinationController.destinationModificationAccept(request: Request, id: Integer)


#Handles updating profile
POST    /users/profile/update       controllers.ProfileController.updateProfileRequest(request: Request)

#Renders page for updating nationality and passport
GET     /users/profile/update/natpass       controllers.ProfileController.updateNatPass(request: Request)

#Handles adding nationality
POST    /users/profile/update/natpass/addnat       controllers.ProfileController.submitUpdateNationality(request: Request)

#Handles deleting nationality
POST    /users/profile/update/natpass/delnat       controllers.ProfileController.deleteNationality(request: Request)

#Handles adding passport
POST    /users/profile/update/natpass/addpass       controllers.ProfileController.submitUpdatePassport(request: Request)

#Handles deleting passport
POST    /users/profile/update/natpass/delpass       controllers.ProfileController.deletePassport(request: Request)

#Renders page for searching travel partners
GET     /users/profile/search       controllers.TravelPartnerController.renderFilterPage(request: Request)

#Handles searching for travel partners
POST    /users/profile/search       controllers.TravelPartnerController.searchByAttribute(request: Request)

GET     /users/profilepicture/isSet     controllers.ProfileController.isProfilePictureSet(request: Request)


#Renders page for creating trips
GET     /users/trips/create         controllers.TripController.createtrip(request: Request)

DELETE     /users/trips/:id         controllers.TripController.deleteTrip(request: Request, id:Integer)

GET     /users/trips/json/:id         controllers.TripController.getTrip(request: Request, id:Integer)

GET     /users/trips/addDestinations/:id    controllers.TripController.addTripDestinations(request: Request, id:Integer)

#GET     /users/trips/display/addDestinations    controllers.TripController.AddExistingTripDestinations(request: Request, id:Integer)

#POST     /users/trips/display/addDestinations    controllers.TripController.addvisitExistingTrip(request: Request, id:Integer)

#Handles creating trips
POST    /users/trips/create         controllers.TripController.savetrip(request: Request)

#Handles deleting visits from a trip
DELETE    /users/trips/edit/:id    controllers.TripController.deletevisit(request: Request, id:Integer)

#Handles swapping visits in a trip
PUT    /users/trips/edit/:id      controllers.TripController.swapvisits(request: Request, id:Integer)

#Renders page for editing a trip
#GET     /users/trips/edit/:id        controllers.TripController.edittrip(request: Request, id:Integer)

#Handles adding a visit to a trip
#POST    /users/trips/edit/:id       controllers.TripController.addvisit(request: Request, id:Integer)

#Handles adding a visit to a trip (table form)
GET    /users/trips/table/edit/:tripid/:destid       controllers.TripController.addVisitFromTable(request: Request, tripid:Integer, destid:Integer)

#Renders page for editing a visit of a trip
GET    /users/trips/visit/edit/:id       controllers.TripController.editvisit(request: Request, id:Integer)

#Handles editing a visit of a trip
POST    /users/trips/visit/edit/:id       controllers.TripController.updateVisit(request: Request, id:Integer)

#Renders page that displays a given trip
GET     /users/trips/:id            controllers.TripController.displaytrip(request: Request, id:Integer)

#Renders page that displays the home page where users can navigate to other pages
GET     /users/home                 controllers.HomeController.showhome(request:Request)

#Serve a file
GET     /users/home/serveDestPicture/:id               controllers.HomeController.serveFromId(request: Request, id:Integer)

#Serve a file
GET     /users/home/servePicture/:path                 controllers.HomeController.index(request: Request, path:String)

#Unlinks the photo from destinations and deletes the UserPhoto with the photoID
DELETE /users/unlinkAndDeletePicture/:photoId                  controllers.DestinationController.unlinkAndDelete(request: Request, photoId: Integer)

#Deletes the UserPhoto with the photoId
DELETE /users/home/deletePicture/                  controllers.ProfileController.deletePhoto(request: Request, photoId: Integer, userInput : Boolean)

#Serve the profile picture
GET     /users/home/serveProfilePicture/:id              controllers.HomeController.serveProfilePicture(request: Request, id:Integer)

#Sets the picture as profile picture
PUT     /users/home/setProfilePicture/:id              controllers.HomeController.setProfilePicture(request: Request, id: Integer)

POST    /users/home         controllers.HomeController.upload(request:Request)

POST    /users/home/profilePicture         controllers.HomeController.uploadProfilePicture(request:Request)

# Sets the users profile picture back to a normal picture
POST    /users/home/profilePicture1/removeProfilePictureStatus1  controllers.HomeController.setProfilePhotoToNormalPhoto(request:Request)

GET    /users/home/photoPrivacy/:id/:setPublic         controllers.HomeController.makePicturePublic(request:Request, id: Integer, setPublic: Integer)

#Handles logout request from the user
GET     /users/logout               controllers.LoginController.logoutrequest(request:Request)

#Renders page for user to update traveller type
GET     /users/profile/ttypes       controllers.TravellerTypeController.updateTravellerType(request:Request)

#Handles adding a traveller type
POST     /users/profile/ttypes      controllers.TravellerTypeController.submitUpdateTravellerType(request:Request)

#Handles deleting a traveller type
POST     /users/profile/delete/:typeId      controllers.TravellerTypeController.deleteUpdateTravellerType(request:Request, typeId:Integer)

#Renders page for displaying a given user's profile
GET     /users/profile/:id          controllers.ProfileController.showProfile(request : Request, id : Integer)

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.at(path="/public", file)



#Destinations



#Renders index page for destinations
GET     /users/destinations             controllers.DestinationController.indexDestination(request : Request)

#*************_*_*_*_*_*_*_*_*_*
GET     /users/destinations/getprimaryphoto  controllers.DestinationController.servePrimaryPicture(request : Request, destId : Integer)

#Gets JSON of all public and private Destinations avaliable to a user.
GET     /users/destinations/getalljson         controllers.DestinationController.getVisibleDestinationMarkersJSON(request : Request)

#Renders page for displaying a given destination
GET     /users/destinations/view/:id         controllers.DestinationController.viewDestination(request : Request, id : Integer)

#Renders page for editing destinations
GET     /users/destinations/edit/:id    controllers.DestinationController.editDestination(request : Request, id : Integer)

#Handles updating a destination
POST    /users/destinations/update/:id  controllers.DestinationController.updateDestination(request : Request, id : Integer)

#Handles updating a public destination
POST    /users/destinations/update/public/:id  controllers.DestinationController.updatePublicDestination(request : Request, id : Integer)

#Handles making a destination public
GET     /users/destinations/update/make_public/:id         controllers.DestinationController.makeDestinationPublic(request : Request, id : Integer)

#Handles AJAX request to get a given destination (maybe change ^ to /users/destinations/display/:id and this one to /users/destinations/:id
GET     /users/destinations/get/:id         controllers.DestinationController.getDestination(request : Request, id : Integer)

#Renders page for creating destinations
GET     /users/destinations/create/     controllers.DestinationController.createDestination(request : Request)


#Renders request for displaying the page for updating destination traveller types
GET     /users/destinations/ttypes/display/:id    controllers.TravellerTypeController.updateDestinationTravellerType(request : Request, id : Integer)

#Handles deleting a traveller type from a destinatoin
GET     /users/destinations/ttypes/:destid/:typeid    controllers.TravellerTypeController.deleteUpdateDestinationTravellerType(request : Request, destid : Integer, typeid : Integer)

#Renders request for getting a destination's traveller types (used in ajax request)
GET     /users/destinations/ttypes/:id    controllers.DestinationController.getTravellerTypes(request : Request, id : Integer)

#Renders request for getting a destination's photos (used in ajax request)
GET     /users/destinations/photos/:id    controllers.DestinationController.getPhotos(request : Request, id : Integer)

#Handles request for a photo
GET     /users/photos/:id                   controllers.DestinationController.getPhoto(request : Request, id : Integer)

#Renders request for destination traveller types
POST    /users/destinations/ttypes/:id    controllers.TravellerTypeController.submitUpdateDestinationTravellerType(request : Request, id : Integer)




#Gets the user id of the owner of the destination
GET     /users/destinations/owner/:id         controllers.DestinationController.getDestinationOwner(request : Request, id : Integer)


#Handles setting a photo to the primary photo for a destination
GET     /users/destinations/:destId/set_primary/:photoId     controllers.DestinationController.setPrimaryPhoto(request : Request, photoId : Integer, destId : Integer)

#Handles linking a photo to a destination
PUT     /users/destinations/:id         controllers.DestinationController.linkPhotoToDestination(request : Request, id : Integer)

#Handles linking a photo to a destination
GET /users/destinations/:destId/add_photo/:photoId     controllers.DestinationController.addPhotoToDestination(request : Request, photoId : Integer, destId : Integer)

#Handles unlinking a destination from a photo
GET /users/destinations/:destId/remove_photo/:photoId   controllers.DestinationController.unlinkPhotoFromDestination(request : Request, photoId : Integer, destId : Integer)

+nocsrf
DELETE  /users/destinations/:photoId/:destId                   controllers.DestinationController.unlinkPhotoFromDestination(request : Request, photoId : Integer, destId: Integer)

#Handles creating a destination
POST    /users/destinations/save        controllers.DestinationController.saveDestinationFromRequest(request : Request)

#Handles deleting a destination
GET     /users/destinations/delete/:id   controllers.DestinationController.deleteDestination(request : Request, id : Integer)

#Treasure Hunts
#Renders treasure hunt index page
GET     /users/treasurehunts                    controllers.TreasureHuntController.indexTreasureHunt(request : Request)

#Open Create treasure hunt page
GET     /users/treasurehunts/create             controllers.TreasureHuntController.createTreasureHunt(request : Request)

#Submit Create treasure hunt request
POST     /users/treasurehunts/save               controllers.TreasureHuntController.createAndSaveTreasureHunt(request : Request)

#Open Edit treasure hunt page
GET     /users/treasurehunts/edit/:id                  controllers.TreasureHuntController.editTreasureHunt(request : Request, id : Integer)

#Edit treasure hunt
POST     /users/treasurehunts/edit/save/:id                    controllers.TreasureHuntController.editAndSaveTreasureHunt(request : Request, id : Integer)

#Delete treasure hunt
GET     /users/treasurehunts/delete/:id                    controllers.TreasureHuntController.deleteTreasureHunt(request : Request, id : Integer)


GET /googlemap  controllers.DestinationController.renderMap(request : Request)


# Undo
+nocsrf
PUT     /undo                                              controllers.UndoRedoController.undo(request: Request)

# Redo
+nocsrf
PUT     /redo                                              controllers.UndoRedoController.redo(request: Request)
